// src/rules/ageClothesMatrix.ts

import type { AgeClothesMatrix } from "../models/clothes";
import { MEDICAL_REFERENCES } from "./medicalReferences";

/**
 * 年齢別 × 温度帯別 服装マトリクス（中度修正版）
 *
 * 服装の具体例はアプリ側の UX のために残しつつ、
 * 次の日本の資料の指針を反映して「安全側」に寄せている：
 *
 * - 厚生労働省：母子保健事業ガイドライン
 *   https://www.mhlw.go.jp/bunya/kodomo/boshi-hoken/
 * - 国立成育医療研究センター
 *   https://www.ncchd.go.jp/
 * - 日本小児科医会（熱中症・脱水の注意喚起）
 *   https://www.jpa-web.org/
 * - 日本小児科学会（幼児の暑さ対策 等）
 *   https://www.jpeds.or.jp/
 */
export const AGE_CLOTHES_MATRIX: AgeClothesMatrix = {
  // 乳児
  infant: {
    very_cold: {
      summary:
        "乳児は体温調節機能が未熟なため、大人より1枚多い重ね着でしっかり防寒することが推奨されます。",
      layers: [
        "長袖肌着（ロンパース型・厚手）",
        "厚手カバーオール（キルト・裏起毛など）",
        "中綿入りまたはフリースのアウター",
        "耳まで覆う帽子",
        "靴下・ブーティ",
        "外出時はブランケット（顔を覆わない）"
      ],
      notes: [
        "厚生労働省・成育医療センターは、室内の目安として20〜23℃程度を示しています。",
        "外出時は大人より1枚多い服装を目安にしつつ、顔色や手足の冷えをこまめに確認してください。",
        "掛け物やフードで口や鼻を覆わないよう、窒息リスクに注意が必要です。"
      ],
      references: [MEDICAL_REFERENCES.mhlw, MEDICAL_REFERENCES.ncchd]
    },
    cold: {
      summary:
        "寒い日には、基本のロンパースに加え、厚手カバーオールや薄手アウターを重ねて保温します。",
      layers: [
        "長袖ロンパース",
        "キルト生地・裏起毛のカバーオール",
        "薄手〜中厚のアウター",
        "帽子",
        "靴下"
      ],
      notes: [
        "室内では着せすぎによる発汗にも注意し、背中が汗で湿っていないか確認してください。",
        "外出時間は短めにし、抱っこ紐やベビーカー利用時も顔色・手足の冷えを定期的に確認してください。"
      ],
      references: [MEDICAL_REFERENCES.mhlw, MEDICAL_REFERENCES.ncchd]
    },
    cool: {
      summary:
        "やや肌寒い程度の気温では、長袖ロンパースに薄手のカーディガンなどの調整しやすい重ね着が適しています。",
      layers: ["長袖ロンパース", "薄手カーディガンやパーカー"],
      notes: [
        "成育医療センターの情報でも、重ね着でこまめに調整することが推奨されています。",
        "暖房が効いた室内では上着を脱がせるなど、環境に応じた調整を行ってください。"
      ],
      references: [MEDICAL_REFERENCES.ncchd]
    },
    mild: {
      summary:
        "過ごしやすい気温帯で、動きを妨げない薄手の長袖やロンパースが目安です。",
      layers: ["薄手ロンパース", "長袖Tシャツ程度の厚みのトップス"],
      notes: [
        "室温20〜23℃程度では、着せすぎ・薄着しすぎの両方に注意し、背中や首元の汗をチェックしてください。",
        "背中・首元に汗がないかこまめに確認し、必要に応じて薄着に調整してください。"
      ],
      references: [MEDICAL_REFERENCES.mhlw]
    },
    warm: {
      summary:
        "やや暑さを感じる気温では、通気性の良い半袖ロンパースなどで熱がこもらないようにします。",
      layers: ["半袖ロンパース", "必要に応じて薄手ズボン"],
      notes: [
        "日本小児科医会の情報では、暑い時期は通気性の高い衣服とこまめな水分・授乳が重要とされています。",
        "寝汗やあせもに注意し、汗をかいたら早めに着替えられるよう予備の衣服を用意してください。"
      ],
      references: [MEDICAL_REFERENCES.jpa, MEDICAL_REFERENCES.jpeds]
    },
    hot: {
      summary:
        "非常に暑い環境では、最小限の軽い衣服と涼しい室環境を整えることが重要です。",
      layers: ["メッシュ素材など通気性の良い半袖ロンパース"],
      notes: [
        "日本小児科学会・日本小児科医会は、真夏日の屋外活動における熱中症リスクについて注意喚起しています。",
        "直射日光下の外出は避け、エアコンや扇風機で室内環境を適切に保ってください。",
        "授乳・水分補給の間隔が極端に空かないよう注意し、元気さや顔色をこまめに観察してください。"
      ],
      references: [MEDICAL_REFERENCES.jpeds, MEDICAL_REFERENCES.jpa]
    }
  },

  //　幼児
  toddler: {
    very_cold: {
      summary:
        "幼児は活動量が多く汗冷えのリスクもあるため、脱ぎ着しやすい重ね着でしっかり防寒します。",
      layers: [
        "長袖インナー",
        "トレーナー・フリースなどの中間着",
        "厚手アウター（中綿・ダウン・ボア）",
        "帽子・手袋",
        "厚手ソックス"
      ],
      notes: [
        "外遊び中は体温が上がりやすい一方で、休憩時に一気に冷えることがあります。",
        "前開きのアウターなど、自分や保護者が調整しやすい服装が推奨されます。"
      ],
      references: [MEDICAL_REFERENCES.mhlw]
    },
    cold: {
      summary:
        "寒い日は、長袖＋中間着＋アウターの3層構成を目安に、冷えと汗の両方に注意します。",
      layers: [
        "長袖Tシャツ",
        "トレーナーやニット",
        "防風性のあるアウター"
      ],
      notes: [
        "登園・登下校時など、じっとしている時間が長い場合は特にアウターでの保温が重要です。",
        "屋内活動では中間着またはアウターを脱いで調整できるようにしてください。"
      ],
      references: [MEDICAL_REFERENCES.mhlw]
    },
    cool: {
      summary:
        "やや肌寒い程度の気温では、長袖Tシャツと薄手パーカーなど、調整しやすい服装が適しています。",
      layers: ["長袖Tシャツ", "薄手パーカーやカーディガン"],
      notes: [
        "屋外での活動前後に、体感に応じて前を開けたり脱いだりできる服装が望ましいです。"
      ],
      references: [MEDICAL_REFERENCES.ncchd]
    },
    mild: {
      summary:
        "過ごしやすい気温で、長袖または半袖＋薄手の羽織りなど、動きやすさを重視します。",
      layers: ["長袖Tシャツ", "必要に応じて薄手の羽織り"],
      notes: [
        "国立成育医療研究センターは、活動量が多い幼児は“汗をかきやすく冷えやすい”ため、脱ぎ着しやすい服装が望ましいと示しています。",
        "外遊び後は汗冷えしないよう、必要に応じて着替えを行ってください。"
      ],
      references: [MEDICAL_REFERENCES.ncchd]
    },
    warm: {
      summary:
        "暑さが気になり始める気温帯では、半袖Tシャツや薄手ボトムスなど、通気性の良い服装が推奨されます。",
      layers: ["半袖Tシャツ", "薄手のズボン・ハーフパンツ"],
      notes: [
        "日本小児科学会は、暑い時期の戸外活動では水分補給と衣服の軽装化を推奨しています。",
        "直射日光が強い時間帯は、帽子の着用や日陰での活動を心がけてください。"
      ],
      references: [MEDICAL_REFERENCES.jpeds, MEDICAL_REFERENCES.jpa]
    },
    hot: {
      summary:
        "非常に暑い環境では、薄手の半袖・短パン・帽子など、熱がこもらない軽装が必要です。",
      layers: ["薄手の半袖シャツ", "短パン", "帽子"],
      notes: [
        "真夏日・猛暑日は、外遊び時間や運動量を制限し、こまめに休憩と水分補給を行うことが重要です。",
        "顔色が悪い・元気がない・ぐったりしている場合は速やかに涼しい場所へ移動し、医療機関への相談も検討してください。"
      ],
      references: [MEDICAL_REFERENCES.jpeds, MEDICAL_REFERENCES.jpa]
    }
  },

  // 児童
  child: {
    very_cold: {
      summary:
        "児童は体温調節機能は発達していますが、登下校時など長時間の寒冷暴露に注意が必要です。",
      layers: [
        "長袖インナー",
        "トレーナーやセーター",
        "中綿入りコートやダウンジャケット",
        "帽子・手袋",
        "厚手ソックス"
      ],
      notes: [
        "強風や雪の日は、風を通しにくいアウターが有効です。",
        "マフラーやネックウォーマーの巻き方に注意し、遊具などに巻き込まれないようにしてください。"
      ],
      references: [MEDICAL_REFERENCES.mhlw]
    },
    cold: {
      summary:
        "寒い日は、インナー＋トレーナー＋アウターなど、重ね着で調整できる構成が適しています。",
      layers: ["長袖Tシャツ", "トレーナー", "アウター"],
      notes: [
        "厚生労働省の資料では、登下校などで“動かない時間が長い場合は体温が下がりやすい”とされ、アウターによる保温が重要とされています。",
        "体育・休み時間など活動量が増える時間は、汗冷え防止のため中間着を脱いで調整できる服装が推奨されます。"
      ],
      references: [MEDICAL_REFERENCES.mhlw]
    },
    cool: {
      summary:
        "やや肌寒い気温では、長袖Tシャツと薄手パーカーなどで体温調節を行います。",
      layers: ["長袖Tシャツ", "薄手パーカー"],
      notes: [
        "国立成育医療研究センターによると、気温差に応じた重ね着は児童でも重要で、特に朝夕の寒暖差には脱ぎ着しやすい服装が適しています。",
        "風が強い日は体感温度が下がるため、薄手パーカーでの防風対策が推奨されます。"
      ],
      references: [MEDICAL_REFERENCES.ncchd]
    },
    mild: {
      summary:
        "動きやすさを重視し、長袖Tシャツや薄手シャツなどが一般的です。",
      layers: ["長袖Tシャツ", "必要に応じて薄手の羽織り"],
      notes: [
        "厚生労働省は、活動量や教室環境に応じて脱ぎ着しやすい服装を推奨しています。",
        "汗をかいた場合は早めに着替え、汗冷えによる体調悪化を防いでください。"
      ],
      references: [MEDICAL_REFERENCES.mhlw]
    },
    warm: {
      summary:
        "暑くなる気温帯では、半袖Tシャツや薄手ボトムスなど、通気性の良い服装が推奨されます。",
      layers: ["半袖Tシャツ", "薄手のズボン・ハーフパンツ"],
      notes: [
        "熱中症対策として、帽子の着用とこまめな水分補給を心がけてください。"
      ],
      references: [MEDICAL_REFERENCES.jpeds, MEDICAL_REFERENCES.jpa]
    },
    hot: {
      summary:
        "非常に暑い環境では、活動量と直射日光を考慮し、軽装かつ外遊び時間の制限が必要です。",
      layers: ["薄手の半袖Tシャツ", "短パン", "帽子"],
      notes: [
        "炎天下での長時間の運動は避け、室内や日陰での活動に切り替えることが日本小児科学会などからも推奨されています。",
        "めまい・頭痛・吐き気などが見られた場合は、速やかに涼しい場所に移動し、必要に応じて医療機関を受診してください。"
      ],
      references: [MEDICAL_REFERENCES.jpeds, MEDICAL_REFERENCES.jpa]
    }
  }
};
